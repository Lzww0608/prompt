# 💻 编程与开发 - Bug 修复

## 常规 Bug 诊断

**描述：** 帮助诊断和修复代码错误

```
你是一名资深调试工程师。请帮我分析和修复以下 Bug：

**代码片段：**
```[编程语言]
[请粘贴出现问题的代码]
```

**问题描述：**
[请详细描述 Bug 的现象]

**预期行为：**
[请说明代码应该产生的正确结果]

**实际行为：**
[请说明代码实际运行时发生的情况]

**错误信息（如果有）：**
```
[请粘贴完整的错误堆栈信息]
```

**环境信息：**
- 编程语言版本：[例如：Python 3.9, Java 11]
- 运行环境：[例如：Windows 10, macOS, Linux]
- 依赖库版本：[如果有相关依赖，请说明版本]

**要求：**
1. 分析 Bug 产生的根本原因
2. 提供修复方案
3. 说明如何避免类似问题
4. 如果需要，提供修复后的完整代码
5. 建议相关的测试用例

请详细输出分析和修复建议。
```

## 运行时错误处理

**描述：** 处理运行时异常和错误

```
你是一名异常处理专家。请帮我处理以下运行时错误：

**错误类型：** [例如：NullPointerException, IndexError, KeyError]

**代码片段：**
```[编程语言]
[请粘贴报错的代码]
```

**完整错误信息：**
```
[请粘贴完整的错误堆栈信息]
```

**上下文：**
[请描述代码的业务场景和上下文]

**要求：**
1. 分析错误发生的具体位置和原因
2. 提供多种修复方案（防御性编程、提前检查、异常捕获等）
3. 给出最佳实践建议
4. 提供修复后的代码
5. 建议如何添加单元测试来捕获此类错误

请输出完整的修复方案。
```

## 性能问题诊断

**描述：** 诊断和优化代码性能问题

```
你是一名性能优化专家。请帮我分析和优化以下性能问题：

**问题描述：**
[请描述性能问题的具体表现，如：响应慢、内存占用高等]

**代码片段：**
```[编程语言]
[请粘贴有性能问题的代码]
```

**性能数据（如果有）：**
- 执行时间：[例如：5秒]
- 内存占用：[例如：500MB]
- 输入数据规模：[例如：100万条记录]

**优化目标：**
[请说明你希望达到的性能目标]

**要求：**
1. 分析性能瓶颈的位置
2. 识别算法复杂度问题
3. 提供多种优化方案
4. 对比优化前后的预期性能
5. 提供优化后的代码实现
6. 说明可能的权衡和风险

请输出详细的性能分析和优化方案。
```

## 并发问题解决

**描述：** 解决多线程、并发相关的 Bug

```
你是一名并发编程专家。请帮我解决以下并发问题：

**问题描述：**
[请描述并发问题的现象，如：死锁、竞态条件、数据不一致等]

**代码片段：**
```[编程语言]
[请粘贴涉及并发操作的代码]
```

**问题表现：**
[描述问题的触发条件和复现步骤]

**并发环境：**
- 线程/协程数量：[例如：10个线程]
- 共享资源：[描述共享的变量或资源]
- 同步机制：[如果使用了锁、信号量等，请说明]

**要求：**
1. 分析并发问题的根本原因
2. 解释问题的触发机制
3. 提供多种解决方案
4. 给出代码修复建议
5. 说明如何进行并发测试
6. 建议避免此类问题的最佳实践

请输出详细的问题分析和修复方案。
```

## 兼容性问题修复

**描述：** 解决跨平台、跨版本的兼容性问题

```
你是一名兼容性工程师。请帮我解决以下兼容性问题：

**问题描述：**
[请描述兼容性问题的表现]

**代码片段：**
```[编程语言]
[请粘贴有兼容性问题的代码]
```

**环境信息：**
- 工作环境：[例如：Python 3.8, Chrome 90]
- 失败环境：[例如：Python 3.11, Safari 15]
- 操作系统：[例如：Windows 11, macOS Big Sur]

**错误信息：**
```
[请粘贴错误信息]
```

**要求：**
1. 分析兼容性问题的原因
2. 识别平台/版本差异
3. 提供兼容性解决方案
4. 给出跨平台最佳实践
5. 建议测试策略

请输出完整的兼容性修复方案。
```

